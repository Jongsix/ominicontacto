#############################################
# Omnileads inventory .ini file for ansible #
#############################################


# If you are installing a prodenv (PE) AIO y bare-metal, change the IP and hostname here
[prodenv-aio]
#hostname ansible_connection=local ansible_user=root ansible_host=X.X.X.X #(this line is for self-hosted installation)
#hostname ansible_ssh_port=22 ansible_user=root ansible_host=X.X.X.X #(this line is for node-host installation)

# Docker host is localhost because the application is deployed in localhost. Uncomment the line if you want to deploy DE or PE
# If you are installing a devenv (PE) uncomment
[prodenv-container]
#localhost ansible_connection=local
# If you are installing a devenv (DE) uncomment
[devenv-container]
#localhost ansible_connection=local

# If you  are installing a cluster in bare-metal uncomment this lines and change IP and hostnames of servers
[omniapp]
#hostname ansible_ssh_port=22 ansible_user=root ansible_host=X.X.X.X
[kamailio]
#hostname ansible_ssh_port=22 ansible_user=root ansible_host=X.X.X.X
[asterisk]
#hostname ansible_ssh_port=22 ansible_user=root ansible_host=X.X.X.X
[database]
#hostname ansible_ssh_port=22 ansible_user=root ansible_host=X.X.X.X
[dialer]
#hostname ansible_ssh_port=22 ansible_user=root ansible_host=X.X.X.X

# These are the variables used for every kind of installation
[everyone:vars]

###############
# Credentials #
###############

# Database
postgres_database=omnileads
postgres_user=omnileads
postgres_password=admin123
# Admin web
admin_pass=098098ZZZ
# AMI for wombat dialer
ami_user=omnileadsami
ami_password=5_MeO_DMT
# Wombat dialer web
dialer_user=demoadmin
dialer_password=demo
# MySQL (ONLY CHANGE THIS PASSWORD IN FIRST INSTALLATION)
mysql_root_password=098098ZZZ
# AMI for supervision
sup_ami_user=omnisup
sup_ami_password=Sup3rst1c10n
#Set the timezone where the nodes are UNCOMMENT and set this if you are doing a fresh install
#TZ=America/Argentina/Cordoba
#External port is the port where OML web server will listen requests. By default is 443
external_port=443
# Change this value if the recordings are not converted to mp3
formato_conversion=mp3
#Change this value if you want to change the language of schedule calification
schedule=Agenda

###############################################
# From here to below DO NOT CHANGE THE VALUES #
###############################################

# These are the vars used for docker deploys.
[devenv-container:vars]
devenv=1
prodenv=0

[prodenv-container:vars]
devenv=0
prodenv=1

[docker:vars]
aio=0
cluster=1
is_docker=true
docker_user='{{ lookup("env","SUDO_USER") }}'

# These are the vars used for AIO installations.
[prodenv-aio:vars]
ssh_port="{{ ansible_ssh_port }}"
omni_ip="{{ ansible_host }}"
omniapp_ip="{{ omni_ip }}"
asterisk_ip="{{ omni_ip }}"
kamailio_ip="{{ omni_ip }}"
database_ip="{{ omni_ip }}"
dialer_ip="{{ omni_ip }}"
omni_fqdn="{{ inventory_hostname }}"
omniapp_fqdn="{{ omni_fqdn }}"
asterisk_fqdn="{{ omni_fqdn }}"
kamailio_fqdn="{{ omni_fqdn }}"
database_fqdn="{{ omni_fqdn }}"
dialer_fqdn="{{ omni_fqdn }}"
cluster=0
devenv=0
prodenv=1
is_docker=false

# These are the vars used for cluster horizontal installations.
[prodenv-cluster:vars]
omniapp_ip="{{ hostvars[groups['omniapp'][0]].ansible_host }}"
omniapp_fqdn="{{ hostvars[groups['omniapp'][0]].inventory_hostname }}"
database_ip="{{ hostvars[groups['database'][0]].ansible_host }}"
database_fqdn="{{ hostvars[groups['database'][0]].inventory_hostname }}"
asterisk_ip="{{ hostvars[groups['asterisk'][0]].ansible_host }}"
asterisk_fqdn="{{ hostvars[groups['asterisk'][0]].inventory_hostname }}"
kamailio_ip="{{ hostvars[groups['kamailio'][0]].ansible_host }}"
kamailio_fqdn="{{ hostvars[groups['kamailio'][0]].inventory_hostname }}"
dialer_ip="{{ hostvars[groups['dialer'][0]].ansible_host }}"
dialer_fqdn="{{ hostvars[groups['dialer'][0]].inventory_hostname }}"
cluster=1
devenv=0
prodenv=1
is_docker=false

[prodenv-cluster:children]
omniapp
database
asterisk
kamailio
dialer

[docker:children]
devenv-container
prodenv-container

[everyone:children]
prodenv-cluster
prodenv-aio
devenv-container
prodenv-container
